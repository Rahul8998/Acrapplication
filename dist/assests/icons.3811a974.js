import{c as d,r,w as O,o as D,h as l,T as K}from"./index.90532aa7.js";import{a as Q}from"./QBtn.2f5f6993.js";import{c as k,h as x}from"./render.e4852632.js";const F={ratio:[String,Number]};function W(e,a){return d(()=>{const o=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const M=16/9;var Y=k({name:"QImg",props:{...F,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:M},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:o}){const f=r(e.initialRatio),h=W(e,f);let i;const n=[r(null),r(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],s=r(0),g=r(!1),c=r(!1),b=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),C=d(()=>({width:e.width,height:e.height})),j=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),E=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));O(()=>A(),m);function A(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function m(t){if(clearTimeout(i),c.value=!1,t===null){g.value=!1,n[0].value=null,n[1].value=null;return}g.value=!0,n[s.value].value=t}function w({target:t}){i!==null&&(clearTimeout(i),f.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,S(t,1))}function S(t,u){i===null||u===1e3||(t.complete===!0?z(t):i=setTimeout(()=>{S(t,u+1)},50))}function z(t){i!==null&&(s.value=s.value===1?0:1,n[s.value].value=null,g.value=!1,c.value=!1,o("load",t.currentSrc||t.src))}function B(t){clearTimeout(i),g.value=!1,c.value=!0,n[0].value=null,n[1].value=null,o("error",t)}function T(t,u){return l("div",{class:"q-img__container absolute-full",key:t},u)}function y(t){const u=n[t].value,v={key:"img_"+t,class:j.value,style:E.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...u};return s.value===t?(v.class+=" q-img__image--waiting",Object.assign(v,{onLoad:w,onError:B})):v.class+=" q-img__image--loaded",T("img"+t,l("img",v))}function G(){return g.value!==!0?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},x(a[c.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[l(Q,{color:e.spinnerColor,size:e.spinnerSize})])}return m(A()),D(()=>{clearTimeout(i),i=null}),()=>{const t=[];return h.value!==null&&t.push(l("div",{key:"filler",style:h.value})),c.value!==!0&&(n[0].value!==null&&t.push(y(0)),n[1].value!==null&&t.push(y(1))),t.push(l(K,{name:"q-transition--fade"},G)),l("div",{class:b.value,style:C.value,role:"img","aria-label":e.alt},t)}}}),J="data:image/png;base64,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";export{Y as Q,J as _};
